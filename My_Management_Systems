/*LOGIN SYSTEM -> Done
HOSPITAL MANAGEMENT SYSTEMS
CAR PARKING SYSTEMS
RESTURANT SYSTEMS
LIBRARY MANAGEMENT SYSTEM
CALANDER
ONLINE FOOD ORDER
TO-DO-LIST
MOBILE ORDER SYSTEM*/
#include<stdio.h>
#include<stdlib.h>
int c=3,s=3;
struct hospital
{
    char name[50]; 
    char city[50]; 
    int beds; 
    float price; 
    float rating; 
      
};

struct admitpatient()
{
    int age;
    char names[30];
    struct admitpatient *next;
}*starts=NULL;

void hospitaldata( struct hospital s[])
{
    int i;
 
  for(i=1;i<=3;i++)
  {
     printf("Enter the Name of Hospital: ");
     scanf("%s",&s[i].name);
     printf("\nEnter City name:");
     scanf("%s",&s[i].city);
     printf("\nEnter the no.of beds:");
     scanf("%d",&s[i].beds);
     printf("\nEnter the price of beds");
     scanf("%d",&s[i].price);
     printf("\nEnter the rating out of 5star: ");
     scanf("%d",&s[i].rating);
     
     
  }
  printf("\nAll the details of every hospitals:");
  for(i=1;i<=3;i++)
  {
     printf("Enter the Name of Hospital: ");
     scanf("%s",&s[i].name);
     printf("\nEnter City name:");
     scanf("%s",&s[i].city);
     printf("\nEnter the no.of beds:");
     scanf("%d",&s[i].beds);
     printf("\nEnter the price of beds");
     scanf("%d",&s[i].price);
     printf("\nEnter the rating out of 5star: ");
     scanf("%d",&s[i].rating);
     
     
  }
  
}

void sortbed(struct admitpatient s[])
{
   int i;
   struct hospital *bp;
   
}
int main()
{
  case 1:struct hospital s[10];
  hospitaldata(s); 
  break;
  
  case 2:
  struct admit s[10];
  admit(s);
  break;
  
  case 3:
  sortbed();
}
void admit(struct admitpatient s[])
{
    int choose=1;
  struct admitpatient *tmp,*tmp1;
  while(choose)
  {
  tmp=(struct node*)malloc(sizeof(struct admitpatient));
  
  printf("\nEnter Patient Name: ");
  scanf("%s",&tmp->name);
  printf("\nEnter age: ");
  scanf("%d",&tmp->age);
  tmp->next=NULL;
  if(starts==NULL)
  {
    starts=tmp;  
  }
  else
  {
  tmp1=starts;
  while(tmp1->next!=NULL)
  {
      tmp1=tmp1->next;
  }
  tmp1->next=tmp;
   }
   

printf("\n1>for continue\n2>for exit:");
scanf("%d",&choose);
}
}



struct login
{
  char name[30];
  char email[50];
   long int number[12];
  int otp[20];
  char pas[30];
  struct login *next;
}*start=NULL;

void signup()
{
    int x,otp,ch,c;
    int choice=1;
    
  struct login *tmp,*tmp1;
  tmp=(struct login*)malloc(sizeof(struct login));
  tmp->next=0;
  start=tmp;
  tmp1=start;
  while(choice)
    {
  
  printf("\nEnter your Name= ");
  scanf("%s",&tmp1->name);
  printf("\nEnter your Email= ");
  scanf("%s",&tmp1->email);
  printf("\nEnter your Mobile Number= ");
  scanf("%ld",&tmp1->number);
  printf("\nCreate Password= ");
  scanf("%s",&tmp1->pas);
  printf("\NPassword Created Sucessfully");
  send:
  printf("\n---|Send OTP|---");
  printf("\nClick 1 for Send otp\nClick 0 for Edit number\n");
  scanf("%d",&ch);
  switch(ch)
  {
      case 1:printf("\nOTP Send Sucessfully");
      printf("\nEnter OTP (your OTP is= 12345)");
      
      scanf("%d",&otp);
      if(otp==12345)
      {
          printf("\nOTP Verified Sucessfully");
          printf("\n1 for continue 0 for exit");
          scanf("%d",&choice);
          
          
          
      }
      else
      {
          printf("\nSorry! wrong OTP and Try! again");
          goto send;
      }
      break;
      
      case 0:printf("\nEdit your number");
      printf("%ld",tmp1->number);
             printf("\nEnter New Number");
             scanf("%ld",&tmp1->number);
             printf("\nYour New Number is=%ld",tmp1->number);
             break;
        
      
  }
  
  
   }
}

void login()
{
     char e[30];
    char pa[30];
    struct login*tmp,*tmp1;
    tmp1=start;
    ema:
    printf("\nEnter your Email-id:  ");
    scanf("%s",&e);
   // printf("\nEmail-id Verified");
    if(strcmp(e,tmp1->email)==0)
    {
      printf("\nEmail-id Verified");  
    }
    else
    {
        s=s-1;
        if(s==0)
        {
            printf("\nSorry you have do many attempts try next day ");
        }
        printf("\nSorry! Wrong Email-id Please Enter the Correct Email-id you have left only %d attempts",s);
        goto ema;
    }
    
    check:
    printf("\nEnter Your Password: ");
    scanf("%s",&pa);
    
    if(strcmp(pa,tmp1->pas)==0)
    {
        printf("\nLogin Sucessfully");
    }
    else
    {
        c=c-1;
        if(c==0)
        {
            printf("\nSorry you have do  many attempts attempts try next day");
            exit(1);
        }
       printf("\nSorry! Wrong Password Please Enter the Correct Password you have left only %d attempts",c);
        goto check;
    }
    
    //view
    tmp1=start;
    while(tmp1->next!=0)
    {
      printf("\n%s %s %ld %d %s",tmp1->name,tmp1->email,tmp1->number,tmp1->otp,tmp1->pas);
      tmp1=tmp1->next;  
    }
    printf("\n%s %s %ld %d %s",tmp1->name,tmp1->email,tmp1->number,tmp1->otp,tmp1->pas);
    
    
    
}

void edit()
{
    int choose;
    struct login *tmp1;
    tmp1=start;
    printf("\n1>Name\n2>Email-id\n3>Mobile number\n4>Password");
    scanf("%d",&choose);
    while(1)
    {
      switch(choose)
      {
        case 1: printf("\nEdit your Name: ");
                scanf("%s",&tmp1->name);
                
                printf("\nYour name is Sucessfully updated:");
                break;
                
        case 2:printf("\nEdit your Email-id: ");
               scanf("%s",&tmp1->email);
               printf("\nYour Emai-id Is Sucessfully updated");
               break;
        case 3:  printf("\nEdit your Mobile number: ");
                 scanf("%d",&tmp1->number);
                 printf("\nYour Mobile Number Is Sucessfully updated");
                 break;
        
        case 4:printf("\nEdit your password: ");
               scanf("%s",&tmp1->pas);
               printf("\nYour password Is Sucessfully updated");
               break;
               
      }
    }
}

void view()
{
  char nam[30]; 
  char pasword[30];
  struct login *tmp1;
  tmp1=start;
  printf("\nEnter your profile name or password:");
  scanf("%s",&nam);
  printf("\nEnter your password:");
  scanf("%s",&pasword);
  printf("\n1>Name:\n2>email\n3>number\n4>pasword:");
  printf("%s %s %ld %s",tmp1->name,tmp1->email,tmp1->number,tmp1->pas);
  
}
int main()
{
    int choice;
    while(1)
    {
        
    printf("\n---------Login System-------");
    printf("\n1>Sign up\n2>Login\n3>Edit\n4>View\n5>check Hospital data in your city\n6>Give details for admit the patient:");
    printf("\nEnter your choice= ");
    scanf("%d",&choice);
    switch(choice)
    {
        
        
        case 1: signup();
                break;
                
        case 2:login();
                break;
                
        case 3:edit();
        break;
        
        case 4:view();
        break;
        
        case 5:hospitaldata();
        break;
        
        case 6:admitpatient();
        break;
                
    }
   
  }
}
